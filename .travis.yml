language: java

stages:
  - build
  - deploy

jobs:
  include:
    - stage: build
      script: ./gradlew bootJar

    - stage: deploy
      if: (type = push AND branch = develop) OR tag IS present
      script: ./gradlew jib -Djib.to.auth.username=${DOCKER_HUB_USERNAME} -Djib.to.auth.password=${DOCKER_HUB_PASSWORD}



